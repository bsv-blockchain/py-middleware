# ğŸŒ BSV Testnet Setup Guide

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€BSV testnet ç’°å¢ƒã§ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [Testnet ã¨ã¯](#testnet-ã¨ã¯)
- [ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](#ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ)
- [è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
- [æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—](#æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—)

## ğŸŒŸ Testnet ã¨ã¯

**BSV Testnet** ã¯ã€å®Ÿéš›ã®ã‚³ã‚¤ãƒ³ã‚’ä½¿ã‚ãšã« BSV ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã®æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹**ç„¡æ–™ã®ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**ã§ã™ã€‚

### Testnet ã®ãƒ¡ãƒªãƒƒãƒˆ

- âœ… **å®Œå…¨ç„¡æ–™** - testnet ã‚³ã‚¤ãƒ³ã¯ç„¡æ–™ã§ä¾¡å€¤ãŒãªã„
- âœ… **ãƒªã‚¹ã‚¯ã‚¼ãƒ­** - ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã‚‚é‡‘éŠ­çš„æå¤±ãªã—
- âœ… **ä½•åº¦ã§ã‚‚ãƒ†ã‚¹ãƒˆå¯èƒ½** - å¤±æ•—ã—ã¦ã‚‚ã‚„ã‚Šç›´ã›ã‚‹
- âœ… **mainnet ã¨åŒã˜æ©Ÿèƒ½** - æœ¬ç•ªç’°å¢ƒã¨åŒã˜ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã§ãƒ†ã‚¹ãƒˆ

### Testnet vs Mainnet

| é …ç›®   | Testnet         | Mainnet           |
| ------ | --------------- | ----------------- |
| ã‚³ã‚¤ãƒ³ | ç„¡æ–™ (ä¾¡å€¤ãªã—) | æœ‰æ–™ (å®Ÿéš›ã® BSV) |
| ãƒªã‚¹ã‚¯ | ã‚¼ãƒ­            | ã‚ã‚Š (å®Ÿéš›ã®ãŠé‡‘) |
| ç”¨é€”   | é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ    | æœ¬ç•ªç’°å¢ƒ          |
| Faucet | ã‚ã‚Š (ç„¡æ–™å–å¾—) | ãªã—              |

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Python 3.8+
- py-sdk ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š

### Step 1: Testnet ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä½œæˆ

```bash
cd examples/testnet_setup
python create_testnet_wallet.py
```

å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š

- testnet ç”¨ã®ç§˜å¯†éµ
- testnet ã‚¢ãƒ‰ãƒ¬ã‚¹
- `testnet_wallet_config.json` è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### Step 2: Testnet ã‚³ã‚¤ãƒ³å–å¾— (ç„¡æ–™)

ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä½œæˆå¾Œã«è¡¨ç¤ºã•ã‚Œã‚‹ testnet ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ã£ã¦ã€ä»¥ä¸‹ã® faucet ã‹ã‚‰ç„¡æ–™ã§ã‚³ã‚¤ãƒ³ã‚’å–å¾—ï¼š

#### ğŸŒŸ æ¨å¥¨ Faucet

**1. Bitcoincloud Faucet** (æœ€ã‚‚ç°¡å˜)

- URL: https://faucet.bitcoincloud.net/
- å–å¾—é‡: 0.1 tBSV
- æ–¹æ³•: ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦é€ä¿¡

**2. sCrypt Testnet Faucet**

- URL: https://scrypt.io/faucet/
- å–å¾—é‡: å¤‰å‹•
- æ–¹æ³•: ç°¡å˜ãªèªè¨¼å¾Œã«å–å¾—

#### ã‚³ã‚¤ãƒ³å–å¾—ã®ç¢ºèª

WhatsOnChain Testnet Explorer ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç¢ºèªï¼š

```
https://test.whatsonchain.com/address/{your_address}
```

### Step 3: æ¥ç¶šãƒ†ã‚¹ãƒˆ

```bash
python test_testnet_connection.py
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’ç¢ºèªã—ã¾ã™ï¼š

- âœ… ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä½œæˆ
- âœ… æ®‹é«˜ç¢ºèª
- âœ… WhatsOnChain API æ¥ç¶š
- âœ… Middleware äº’æ›æ€§

### Step 4: Middleware ãƒ†ã‚¹ãƒˆ

```bash
# Django example ã‚’ testnet ã§å®Ÿè¡Œ
cd ../django_example
cp ../testnet_setup/env.testnet.example .env
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ç§˜å¯†éµã‚’è¨­å®š
python manage.py runserver
```

## ğŸ“š è©³ç´°ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
testnet_setup/
â”œâ”€â”€ README.md                        # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ create_testnet_wallet.py         # ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä½œæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ test_testnet_connection.py       # æ¥ç¶šãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ env.testnet.example              # ç’°å¢ƒå¤‰æ•°ã‚µãƒ³ãƒ—ãƒ«
â”œâ”€â”€ testnet_wallet_config.json       # ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè¨­å®š (ç”Ÿæˆã•ã‚Œã‚‹)
â””â”€â”€ .gitignore                       # Git é™¤å¤–è¨­å®š
```

### ç’°å¢ƒå¤‰æ•°è¨­å®š

1. **ã‚µãƒ³ãƒ—ãƒ«ã‚’ã‚³ãƒ”ãƒ¼**:

   ```bash
   cp env.testnet.example ../../.env
   ```

2. **ç§˜å¯†éµã‚’è¨­å®š**:

   ```bash
   # testnet_wallet_config.json ã‹ã‚‰ç§˜å¯†éµã‚’ã‚³ãƒ”ãƒ¼
   # .env ãƒ•ã‚¡ã‚¤ãƒ«ã® BSV_WALLET_PRIVATE_KEY ã«è²¼ã‚Šä»˜ã‘
   ```

3. **ãã®ä»–ã®è¨­å®š**:
   ```bash
   BSV_NETWORK=testnet
   ARC_BROADCASTER_URL=https://api.taal.com/arc/testnet
   WHATSONCHAIN_API_URL=https://api.whatsonchain.com/v1/bsv/test
   DEBUG=true
   ```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …

âš ï¸ **é‡è¦**: testnet å°‚ç”¨ã®ç§˜å¯†éµã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

- âœ… **DO**: testnet å°‚ç”¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œæˆ
- âœ… **DO**: `.gitignore` ã«ç§˜å¯†éµãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ 
- âŒ **DON'T**: mainnet ã®ç§˜å¯†éµã‚’ testnet ã§ä½¿ç”¨
- âŒ **DON'T**: ç§˜å¯†éµã‚’ Git ã«ã‚³ãƒŸãƒƒãƒˆ

### Testnet Faucet è©³ç´°

#### Bitcoincloud Faucet ã®ä½¿ã„æ–¹

1. https://faucet.bitcoincloud.net/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. testnet ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
3. "Get Testnet Coins" ã‚’ã‚¯ãƒªãƒƒã‚¯
4. æ•°åˆ†å¾…ã¤ã¨ã‚³ã‚¤ãƒ³ãŒé€ä¿¡ã•ã‚Œã‚‹
5. WhatsOnChain ã§ç¢ºèª

#### sCrypt Faucet ã®ä½¿ã„æ–¹

1. https://scrypt.io/faucet/ ã«ã‚¢ã‚¯ã‚»ã‚¹
2. GitHub ã¾ãŸã¯ Google ã§ãƒ­ã‚°ã‚¤ãƒ³
3. testnet ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›
4. ã‚³ã‚¤ãƒ³ã‚’å–å¾—

#### Faucet ãŒå‹•ã‹ãªã„å ´åˆ

- 24 æ™‚é–“å¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œ
- åˆ¥ã® faucet ã‚’è©¦ã™
- BSV ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ (Slack/Discord) ã§ç›¸è«‡

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ 1: `py-sdk` ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
Error: py-sdk ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã›ã‚“
```

**è§£æ±ºæ–¹æ³•**:

```bash
# py-sdk ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd ../../py-sdk
pip install -e .
```

### å•é¡Œ 2: æ®‹é«˜ãŒ 0 ã®ã¾ã¾

```bash
Warning: æ®‹é«˜ãŒ 0 ã§ã™
```

**è§£æ±ºæ–¹æ³•**:

1. Faucet ã‹ã‚‰ã‚³ã‚¤ãƒ³ã‚’å–å¾—ã—ãŸã‹ç¢ºèª
2. WhatsOnChain ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç¢ºèª
3. æ•°åˆ†å¾…ã£ã¦ã‹ã‚‰å†ç¢ºèª
4. åˆ¥ã® faucet ã‚’è©¦ã™

### å•é¡Œ 3: WhatsOnChain API ã‚¨ãƒ©ãƒ¼

```bash
Error: WhatsOnChain API æ¥ç¶šå¤±æ•—
```

**è§£æ±ºæ–¹æ³•**:

1. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèª
2. API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèª:
   ```
   https://api.whatsonchain.com/v1/bsv/test
   ```
3. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã—ã¦ã„ãªã„ã‹ç¢ºèª
4. æ•°åˆ†å¾…ã£ã¦ã‹ã‚‰å†è©¦è¡Œ

### å•é¡Œ 4: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
Error: testnet_wallet_config.json ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
```

**è§£æ±ºæ–¹æ³•**:

```bash
# ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’å†ä½œæˆ
python create_testnet_wallet.py
```

### å•é¡Œ 5: ARC Broadcaster ã‚¨ãƒ©ãƒ¼

```bash
Error: ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ–ãƒ­ãƒ¼ãƒ‰ã‚­ãƒ£ã‚¹ãƒˆã«å¤±æ•—
```

**è§£æ±ºæ–¹æ³•**:

1. ARC ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç¢ºèª:
   ```
   https://api.taal.com/arc/testnet
   ```
2. æ®‹é«˜ãŒååˆ†ã‹ç¢ºèª
3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãæ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

## ğŸ“– æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. èªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ

```bash
# Testnet ã§èªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
cd ../../tests/testnet
python test_auth_flow_testnet.py
```

### 2. æ”¯æ‰•ã„ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ

```bash
# Testnet ã§æ”¯æ‰•ã„ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
python test_payment_flow_testnet.py
```

### 3. Django Example ã‚’å®Ÿè¡Œ

```bash
# Django example ã‚’ testnet ã§èµ·å‹•
cd ../../examples/django_example
python manage.py runserver
```

### 4. çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ

```bash
# å…¨ã¦ã® testnet çµ±åˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
cd ../../
python -m pytest tests/testnet/ -v
```

### 5. Mainnet ã¸ã®ç§»è¡Œæº–å‚™

Testnet ã§å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰ã€mainnet ã¸ã®ç§»è¡Œã‚’æº–å‚™ï¼š

1. **Mainnet è¨­å®šä½œæˆ**:

   ```bash
   cp examples/testnet_setup/env.testnet.example .env.mainnet
   # mainnet è¨­å®šã«å¤‰æ›´
   ```

2. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯**:

   - ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒæˆåŠŸ
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒé©åˆ‡
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œè¨¼å®Œäº†

3. **Mainnet ãƒ‡ãƒ—ãƒ­ã‚¤**:
   - `docs/mainnet_deployment_guide.md` ã‚’å‚ç…§
   - å°é¡ã§ãƒ†ã‚¹ãƒˆé–‹å§‹
   - æ®µéšçš„ã«ã‚¹ã‚±ãƒ¼ãƒ«ã‚¢ãƒƒãƒ—

## ğŸŒŸ Tips

### Testnet ã§åŠ¹ç‡çš„ã«ãƒ†ã‚¹ãƒˆã™ã‚‹

1. **ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–**:

   ```bash
   DEBUG=true
   LOG_LEVEL=DEBUG
   ```

2. **è¤‡æ•°ã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ç”¨æ„**:

   ```bash
   # ãƒ†ã‚¹ãƒˆç”¨ã«è¤‡æ•°ã®ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œæˆ
   python create_testnet_wallet.py  # wallet 1
   # åˆ¥ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Ÿè¡Œ
   python create_testnet_wallet.py  # wallet 2
   ```

3. **ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½è·¡**:

   - WhatsOnChain Testnet Explorer ã‚’æ´»ç”¨
   - ãƒ­ã‚°ã‚’è©³ç´°ã«ç¢ºèª
   - ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨˜éŒ²

4. **å®šæœŸçš„ã«ãƒ†ã‚¹ãƒˆ**:
   - CI/CD ã§è‡ªå‹•ãƒ†ã‚¹ãƒˆ
   - æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã¯ testnet ã§æ¤œè¨¼
   - æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«å¿…ãš testnet ãƒ†ã‚¹ãƒˆ

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

### Testnet ãƒªã‚½ãƒ¼ã‚¹

- **BSV Testnet Explorer**: https://test.whatsonchain.com/
- **Testnet Faucets**:
  - Bitcoincloud: https://faucet.bitcoincloud.net/
  - sCrypt: https://scrypt.io/faucet/
- **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: https://developers.whatsonchain.com/

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**: `../../docs/api_reference.md`
- **çµ±åˆã‚¬ã‚¤ãƒ‰**: `../../docs/django_integration.md`
- **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: `../../docs/troubleshooting.md`

### BSV ãƒªã‚½ãƒ¼ã‚¹

- **BSV Wiki**: https://wiki.bitcoinsv.io/
- **BRC Specifications**: https://github.com/bitcoin-sv/BRCs
- **py-sdk Documentation**: https://github.com/bsv-blockchain/py-sdk

## ğŸ¤ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒè§£æ±ºã—ãªã„å ´åˆï¼š

1. **Issue ã‚’ä½œæˆ**: GitHub ãƒªãƒã‚¸ãƒˆãƒªã§ issue ã‚’å ±å‘Š
2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¢ºèª**: `docs/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä»–ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§
3. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£**: BSV Slack/Discord ã§ã‚µãƒãƒ¼ãƒˆã‚’æ±‚ã‚ã‚‹

---

**Happy Testing on Testnet!** ğŸ‰

Testnet ã¯å®Œå…¨ã«ç„¡æ–™ã§å®‰å…¨ã§ã™ã€‚ä½•åº¦ã§ã‚‚è©¦ã—ã¦ã€å®Œç’§ã«ãªã£ãŸã‚‰ mainnet ã¸ç§»è¡Œã—ã¾ã—ã‚‡ã†ï¼
